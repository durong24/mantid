<?xml version='1.0' encoding='ASCII'?>
<instrument xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.mantidproject.org/IDF/1.0" last-modified="2020-06-05 14:20:35.303989" name="D7" valid-from="1900-01-31 23:59:59" valid-to="2100-01-31 23:59:59" xsi:schemaLocation="http://www.mantidproject.org/IDF/1.0 http://schema.mantidproject.org/IDF/1.0/IDFSchema.xsd">
  <!-- This is the instrument definition file of the D7 diffuse scattering spectrometer at the ILL.
       Generated file, PLEASE DO NOT EDIT THIS FILE!
       This file was automatically generated by mantidgeometry/ILL/IDF/d7_generateIDF.py
       The generating script should be run as:
       python3 ./ILL/IDF/d7_generateIDF.py

       z axis defines the direction of the beam
       y axis will be the axis used for rotation
       coordinate system is right-handed
       x axis rotation defined by phi 
       y axis rotation defined by theta 
       height y direction
       The instrument operates in two modes
       - Diffraction:
          - wavelength 3.1 A, qmin = 0.4, qmax = 4.0
          - wavelength 4.8 A, qmin = 0.3, qmax = 2.5
          - wavelength 5.7 A, qmin = 0.2, qmax = 2.1
       - Spectroscopy time-of-flight 
          - using Fermi chopper, with the same possible wavelengths

       Source-to-sample distances is 3.6 m 
       Three detector banks with 44 position-insensitive He3 detectors each
       Each detector located 1.5 m from the sample
       covering 2 Theta range from about 10 to 155 degrees
       Detector tubes have 25 mm in diameter and are 250 mm in height
       For more information, please visit 
       https://www.ill.eu/instruments-support/instruments-groups/instruments/d7/characteristics/
       -->
  <defaults>
    <length unit="metre"/>
    <angle unit="degree"/>
    <reference-frame>
      <along-beam axis="z"/>
      <pointing-up axis="y"/>
      <handedness val="right"/>
      <theta-sign axis="x" />
    </reference-frame>
    <default-view axis-view="z-" view="3D"/>
  </defaults>
  <!--SOURCE-->
  <component type="Monochromator">
    <location x="0.0" y="0.0" z="-3.6"/>
  </component>
  <type is="Source" name="Monochromator"/>
  <!--Sample position-->
  <component type="sample_position">
    <location x="0.0" y="0.0" z="0.0"/>
  </component>
  <type is="SamplePos" name="sample_position"/>
  <!--Fermi chopper-->
  <component type="fermi_chopper">
    <location x="0.0" y="0.0" z="-0.48"/>
  </component>
  <type is="ChopperPos" name="fermi_chopper"/>
  <!--MONITORS-->
  <component idlist="monitors" type="monitors">
    <location/>
  </component>
  <type name="monitors">
    <component type="monitor">
      <location name="monitor1" z="-1.3"/>
      <location name="monitor2" z="1.5"/>
    </component>
  </type>
  <!--MONITOR SHAPE-->
  <!--FIXME: Do something real here.-->
  <type is="monitor" name="monitor">
    <cylinder id="cyl-approx">
      <centre-of-bottom-base p="0.0" r="0.0" t="0.0"/>
      <axis x="0.0" y="0.0" z="1.0"/>
      <radius val="0.01"/>
      <height val="0.03"/>
    </cylinder>
    <algebra val="cyl-approx"/>
  </type>
  <!--MONITOR IDs-->
  <idlist idname="monitors">
    <id val="100000"/>
    <id val="100001"/>
  </idlist>
  <!--DETECTORS-->
  <component type="detector">
    <location x="0.0" y="0.0" z="0.0"/>
  </component>
  <type name="detector">
    <component idlist="bank2_ids" type="bank">
      <location name="bank2" x="0" y="0" z="0">
        <rot axis-x="0" axis-y="1" axis-z="0" val="-22.0"/>
      </location>
    </component>
    <component idlist="bank3_ids" type="bank">
      <location name="bank3" x="0" y="0" z="0">
        <rot axis-x="0" axis-y="1" axis-z="0" val="-68.0"/>
      </location>
    </component>
    <component idlist="bank4_ids" type="bank">
      <location name="bank4" x="0" y="0" z="0">
        <rot axis-x="0" axis-y="1" axis-z="0" val="-114.0"/>
      </location>
    </component>
  </type>
  <idlist idname="bank2_ids">
    <id end="44" start="1" step="1"/>
  </idlist>
  <idlist idname="bank3_ids">
    <id end="88" start="45" step="1"/>
  </idlist>
  <idlist idname="bank4_ids">
    <id end="132" start="89" step="1"/>
  </idlist>
  <type name="bank">
    <component type="pixel">
      <location name="pixel_1" p="0" r="1.5177" t="20.67663847026804"/>
      <location name="pixel_2" p="0" r="1.50518" t="19.886"/>
      <location name="pixel_3" p="0" r="1.5177" t="18.67663847026804"/>
      <location name="pixel_4" p="0" r="1.50518" t="17.886"/>
      <location name="pixel_5" p="0" r="1.5177" t="16.67663847026804"/>
      <location name="pixel_6" p="0" r="1.50518" t="15.886"/>
      <location name="pixel_7" p="0" r="1.5177" t="14.676638470268038"/>
      <location name="pixel_8" p="0" r="1.50518" t="13.886"/>
      <location name="pixel_9" p="0" r="1.5177" t="12.676638470268038"/>
      <location name="pixel_10" p="0" r="1.50518" t="11.886"/>
      <location name="pixel_11" p="0" r="1.5177" t="10.676638470268038"/>
      <location name="pixel_12" p="0" r="1.50518" t="9.886"/>
      <location name="pixel_13" p="0" r="1.5177" t="8.676638470268038"/>
      <location name="pixel_14" p="0" r="1.50518" t="7.886"/>
      <location name="pixel_15" p="0" r="1.5177" t="6.676638470268039"/>
      <location name="pixel_16" p="0" r="1.50518" t="5.886"/>
      <location name="pixel_17" p="0" r="1.5177" t="4.676638470268039"/>
      <location name="pixel_18" p="0" r="1.50518" t="3.886"/>
      <location name="pixel_19" p="0" r="1.5177" t="2.6766384702680392"/>
      <location name="pixel_20" p="0" r="1.50518" t="1.886"/>
      <location name="pixel_21" p="0" r="1.5177" t="0.6766384702680391"/>
      <location name="pixel_22" p="0" r="1.50518" t="-0.1140000000000001"/>
      <location name="pixel_23" p="0" r="1.5177" t="-1.323361529731961"/>
      <location name="pixel_24" p="0" r="1.50518" t="-2.114"/>
      <location name="pixel_25" p="0" r="1.5177" t="-3.3233615297319608"/>
      <location name="pixel_26" p="0" r="1.50518" t="-4.114"/>
      <location name="pixel_27" p="0" r="1.5177" t="-5.323361529731961"/>
      <location name="pixel_28" p="0" r="1.50518" t="-6.114"/>
      <location name="pixel_29" p="0" r="1.5177" t="-7.323361529731961"/>
      <location name="pixel_30" p="0" r="1.50518" t="-8.114"/>
      <location name="pixel_31" p="0" r="1.5177" t="-9.323361529731962"/>
      <location name="pixel_32" p="0" r="1.50518" t="-10.114"/>
      <location name="pixel_33" p="0" r="1.5177" t="-11.323361529731962"/>
      <location name="pixel_34" p="0" r="1.50518" t="-12.114"/>
      <location name="pixel_35" p="0" r="1.5177" t="-13.323361529731962"/>
      <location name="pixel_36" p="0" r="1.50518" t="-14.114"/>
      <location name="pixel_37" p="0" r="1.5177" t="-15.323361529731962"/>
      <location name="pixel_38" p="0" r="1.50518" t="-16.114"/>
      <location name="pixel_39" p="0" r="1.5177" t="-17.32336152973196"/>
      <location name="pixel_40" p="0" r="1.50518" t="-18.114"/>
      <location name="pixel_41" p="0" r="1.5177" t="-19.32336152973196"/>
      <location name="pixel_42" p="0" r="1.50518" t="-20.114"/>
      <location name="pixel_43" p="0" r="1.5177" t="-21.32336152973196"/>
      <location name="pixel_44" p="0" r="1.50518" t="-22.114"/>
    </component>
  </type>
  <type is="detector" name="pixel">
    <cylinder id="cyl_approx">
      <centre-of-bottom-base x="0.0" y="-0.125" z="0"/>
      <axis x="0.0" y="1.0" z="0.0"/>
      <radius val="0.01252"/>
      <height val="0.25"/>
    </cylinder>
    <algebra val="cyl_approx"/>
  </type>
</instrument>
